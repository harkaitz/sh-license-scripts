#!/bin/sh -e
##:
#h: Usage: make-h-license ...
#h:
#h: ... get-license  : Get license file.
#h: ... get-readme   : Get readme file.
#h: ... makefile     : Print 'Makefile'.
##:
make_h_license() {
    local cmd="$1"
    shift
    case "${cmd}" in
        get-license)  make_h_license_LICENSE  ;;
        get-readme)   make_h_license_README   ;;
        makefile)     make_h_license_makefile ;;
        gitignore)    true ;;
    esac
}
## ------------------------------------------------------------------
make_h_license_LICENSE() {
    if test -f LICENSE; then
        echo "LICENSE"
    elif test -f COPYING; then
        echo "COPYING"
    fi
}
make_h_readme_README() {
    if test -f README.md; then
        echo README.md
    fi
}

make_h_license_makefile() {
    local l="$(make_h_license_LICENSE)"
    if test -n "${l}${r}"; then
        echo "install: install-license"
        echo "install-license: ${f}"
        echo "	install -D -t \$(DESTDIR)\$(PREFIX)/share/doc/\$(PROJECT)" ${l} ${r} 
    fi
}
## -------------------------------------------------------------------
if test @"$(basename "$0")" = @"make-h-license";then
    case "${1}" in
        ''|-h|--help) sed -n 's/^ *#h: \{0,1\}//p' "$0" ;;
        *)            make_h_license "$@"; exit 0       ;;
    esac
fi
